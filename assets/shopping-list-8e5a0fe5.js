import{g as at,s as G,h as X,l as ot,i as lt,j as ut,r as ct,u as ft,k as pt,o as gt,m as ht,a as dt,b as vt,c as mt,d as xt}from"./auth_firebase-32402001.js";var q={exports:{}};/*!
 * TOAST UI Pagination
 * @version 3.4.1
 * @author NHN FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */(function(m,B){(function(x,e){m.exports=e()})(window,function(){return function(l){var x={};function e(s){if(x[s])return x[s].exports;var i=x[s]={i:s,l:!1,exports:{}};return l[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=l,e.c=x,e.d=function(s,i,f){e.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:f})},e.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},e.t=function(s,i){if(i&1&&(s=e(s)),i&8||i&4&&typeof s=="object"&&s&&s.__esModule)return s;var f=Object.create(null);if(e.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),i&2&&typeof s!="string")for(var p in s)e.d(f,p,(function(a){return s[a]}).bind(null,p));return f},e.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(i,"a",i),i},e.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},e.p="dist",e(e.s=10)}([function(l,x,e){function s(i,f){var p=Object.prototype.hasOwnProperty,a,c,h,_;for(h=1,_=arguments.length;h<_;h+=1){a=arguments[h];for(c in a)p.call(a,c)&&(i[c]=a[c])}return i}l.exports=s},function(l,x,e){function s(i){return i===void 0}l.exports=s},function(l,x,e){function s(i){return i instanceof Array}l.exports=s},function(l,x,e){var s=e(2),i=e(17),f=e(6);function p(a,c,h){s(a)?i(a,c,h):f(a,c,h)}l.exports=p},function(l,x,e){function s(i){return typeof i=="string"||i instanceof String}l.exports=s},function(l,x,e){function s(i){return i instanceof Function}l.exports=s},function(l,x,e){function s(i,f,p){var a;p=p||null;for(a in i)if(i.hasOwnProperty(a)&&f.call(p,i[a],a,i)===!1)break}l.exports=s},function(l,x,e){var s=e(18),i=e(0);function f(p,a){var c;return a||(a=p,p=null),c=a.init||function(){},p&&s(c,p),a.hasOwnProperty("static")&&(i(c,a.static),delete a.static),i(c.prototype,a),c}l.exports=f},function(l,x,e){var s=e(2);function i(f,p,a){var c,h;if(a=a||0,!s(p))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(p,f,a);for(h=p.length,c=a;a>=0&&c<h;c+=1)if(p[c]===f)return c;return-1}l.exports=i},function(l,x,e){var s=e(29),i=e(30),f=e(5),p={capitalizeFirstLetter:function(a){return a.substring(0,1).toUpperCase()+a.substring(1,a.length)},isContained:function(a,c){return c?a===c?!0:c.contains(a):!1},createElementByTemplate:function(a,c){var h=document.createElement("div"),_=f(a)?a(c):s(a,c);return h.innerHTML=_,h.firstChild},bind:function(a,c){var h=Array.prototype.slice,_;return a.bind?a.bind.apply(a,h.call(arguments,1)):(_=h.call(arguments,2),function(){return a.apply(c,_.length?_.concat(h.call(arguments)):arguments)})},sendHostName:function(){i("pagination","UA-129987462-1")}};l.exports=p},function(l,x,e){e(11),l.exports=e(12)},function(l,x,e){},function(l,x,e){var s=e(13),i=e(7),f=e(0),p=e(1),a=e(20),c=e(9),h={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},_=i({init:function(r,t){this._options=f({},h,t),this._currentPage=0,this._view=new a(r,this._options,c.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&c.sendHostName()},_setCurrentPage:function(r){this._currentPage=r||this._options.page},_getLastPage:function(){var r=Math.ceil(this._options.totalItems/this._options.itemsPerPage);return r||1},_getPageIndex:function(r){var t,n;return this._options.centerAlign?(t=Math.floor(this._options.visiblePages/2),n=r-t,n=Math.max(n,1),n=Math.min(n,this._getLastPage()-this._options.visiblePages+1),n):Math.ceil(r/this._options.visiblePages)},_getRelativePage:function(r){var t=r==="prev",n=this.getCurrentPage();return t?n-1:n+1},_getMorePageIndex:function(r){var t=this._getPageIndex(this.getCurrentPage()),n=this._options.visiblePages,o=r==="prev",g;return this._options.centerAlign?g=o?t-1:t+n:g=o?(t-1)*n:t*n+1,g},_convertToValidPage:function(r){var t=this._getLastPage();return r=Math.max(r,1),r=Math.min(r,t),r},_paginate:function(r){var t=this._makeViewData(r||this._options.page);this._setCurrentPage(r),this._view.update(t)},_makeViewData:function(r){var t={},n=this._getLastPage(),o=this._getPageIndex(r),g=this._getPageIndex(n),b=this._getEdge(r);return t.leftPageNumber=b.left,t.rightPageNumber=b.right,t.prevMore=o>1,t.nextMore=o<g,t.page=r,t.currentPageIndex=r,t.lastPage=n,t.lastPageListIndex=n,t},_getEdge:function(r){var t,n,o,g=this._getLastPage(),b=this._options.visiblePages,L=this._getPageIndex(r);return this._options.centerAlign?(o=Math.floor(b/2),t=Math.max(r-o,1),n=t+b-1,n>g&&(t=Math.max(g-b+1,1),n=g)):(t=(L-1)*b+1,n=L*b,n=Math.min(n,g)),{left:t,right:n}},_onClickHandler:function(r,t){switch(r){case"first":t=1;break;case"prev":t=this._getRelativePage("prev");break;case"next":t=this._getRelativePage("next");break;case"prevMore":t=this._getMorePageIndex("prev");break;case"nextMore":t=this._getMorePageIndex("next");break;case"last":t=this._getLastPage();break;default:if(!t)return}this.movePageTo(t)},reset:function(r){p(r)&&(r=this._options.totalItems),this._options.totalItems=r,this._paginate(1)},movePageTo:function(r){r=this._convertToValidPage(r),this.invoke("beforeMove",{page:r})&&(this._paginate(r),this.fire("afterMove",{page:r}))},setTotalItems:function(r){this._options.totalItems=r},setItemsPerPage:function(r){this._options.itemsPerPage=r},getCurrentPage:function(){return this._currentPage||this._options.page}});s.mixin(_),l.exports=_},function(l,x,e){var s=e(0),i=e(14),f=e(4),p=e(16),a=e(2),c=e(5),h=e(3),_=/\s+/g;function r(){this.events=null,this.contexts=null}r.mixin=function(t){s(t.prototype,r.prototype)},r.prototype._getHandlerItem=function(t,n){var o={handler:t};return n&&(o.context=n),o},r.prototype._safeEvent=function(t){var n=this.events,o;return n||(n=this.events={}),t&&(o=n[t],o||(o=[],n[t]=o),n=o),n},r.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},r.prototype._indexOfContext=function(t){for(var n=this._safeContext(),o=0;n[o];){if(t===n[o][0])return o;o+=1}return-1},r.prototype._memorizeContext=function(t){var n,o;i(t)&&(n=this._safeContext(),o=this._indexOfContext(t),o>-1?n[o][1]+=1:n.push([t,1]))},r.prototype._forgetContext=function(t){var n,o;i(t)&&(n=this._safeContext(),o=this._indexOfContext(t),o>-1&&(n[o][1]-=1,n[o][1]<=0&&n.splice(o,1)))},r.prototype._bindEvent=function(t,n,o){var g=this._safeEvent(t);this._memorizeContext(o),g.push(this._getHandlerItem(n,o))},r.prototype.on=function(t,n,o){var g=this;f(t)?(t=t.split(_),h(t,function(b){g._bindEvent(b,n,o)})):p(t)&&(o=n,h(t,function(b,L){g.on(L,b,o)}))},r.prototype.once=function(t,n,o){var g=this;if(p(t)){o=n,h(t,function(L,u){g.once(u,L,o)});return}function b(){n.apply(o,arguments),g.off(t,b,o)}this.on(t,b,o)},r.prototype._spliceMatches=function(t,n){var o=0,g;if(a(t))for(g=t.length;o<g;o+=1)n(t[o])===!0&&(t.splice(o,1),g-=1,o-=1)},r.prototype._matchHandler=function(t){var n=this;return function(o){var g=t===o.handler;return g&&n._forgetContext(o.context),g}},r.prototype._matchContext=function(t){var n=this;return function(o){var g=t===o.context;return g&&n._forgetContext(o.context),g}},r.prototype._matchHandlerAndContext=function(t,n){var o=this;return function(g){var b=t===g.handler,L=n===g.context,u=b&&L;return u&&o._forgetContext(g.context),u}},r.prototype._offByEventName=function(t,n){var o=this,g=c(n),b=o._matchHandler(n);t=t.split(_),h(t,function(L){var u=o._safeEvent(L);g?o._spliceMatches(u,b):(h(u,function(d){o._forgetContext(d.context)}),o.events[L]=[])})},r.prototype._offByHandler=function(t){var n=this,o=this._matchHandler(t);h(this._safeEvent(),function(g){n._spliceMatches(g,o)})},r.prototype._offByObject=function(t,n){var o=this,g;this._indexOfContext(t)<0?h(t,function(b,L){o.off(L,b)}):f(n)?(g=this._matchContext(t),o._spliceMatches(this._safeEvent(n),g)):c(n)?(g=this._matchHandlerAndContext(n,t),h(this._safeEvent(),function(b){o._spliceMatches(b,g)})):(g=this._matchContext(t),h(this._safeEvent(),function(b){o._spliceMatches(b,g)}))},r.prototype.off=function(t,n){f(t)?this._offByEventName(t,n):arguments.length?c(t)?this._offByHandler(t):p(t)&&this._offByObject(t,n):(this.events={},this.contexts=[])},r.prototype.fire=function(t){this.invoke.apply(this,arguments)},r.prototype.invoke=function(t){var n,o,g,b;if(!this.hasListener(t))return!0;for(n=this._safeEvent(t),o=Array.prototype.slice.call(arguments,1),g=0;n[g];){if(b=n[g],b.handler.apply(b.context,o)===!1)return!1;g+=1}return!0},r.prototype.hasListener=function(t){return this.getListenerLength(t)>0},r.prototype.getListenerLength=function(t){var n=this._safeEvent(t);return n.length},l.exports=r},function(l,x,e){var s=e(1),i=e(15);function f(p){return!s(p)&&!i(p)}l.exports=f},function(l,x,e){function s(i){return i===null}l.exports=s},function(l,x,e){function s(i){return i===Object(i)}l.exports=s},function(l,x,e){function s(i,f,p){var a=0,c=i.length;for(p=p||null;a<c&&f.call(p,i[a],a,i)!==!1;a+=1);}l.exports=s},function(l,x,e){var s=e(19);function i(f,p){var a=s(p.prototype);a.constructor=f,f.prototype=a}l.exports=i},function(l,x,e){function s(i){function f(){}return f.prototype=i,new f}l.exports=s},function(l,x,e){var s=e(3),i=e(7),f=e(21),p=e(22),a=e(24),c=e(25),h=e(0),_=e(4),r=e(28),t=e(9),n={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},o=["first","prev","next","last"],g=["prev","next"],b="The container element is invalid.",L=i({init:function(u,d,S){this._containerElement=null,this._firstItemClassName=d.firstItemClassName,this._lastItemClassName=d.lastItemClassName,this._template=h({},n,d.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(u),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(S)},_setRootElement:function(u){if(_(u)?u=document.getElementById(u)||document.querySelector(u):u.jquery&&(u=u[0]),!r(u))throw new Error(b);this._containerElement=u},_setMoveButtons:function(){s(o,function(u){this._buttons[u]=t.createElementByTemplate(this._template.moveButton,{type:u})},this)},_setDisabledMoveButtons:function(){s(o,function(u){var d="disabled"+t.capitalizeFirstLetter(u);this._buttons[d]=t.createElementByTemplate(this._template.disabledMoveButton,{type:u})},this)},_setMoreButtons:function(){s(g,function(u){var d=u+"More";this._buttons[d]=t.createElementByTemplate(this._template.moreButton,{type:u})},this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(u){var d;u.page>1?d=this._buttons.first:d=this._buttons.disabledFirst,this._getContainerElement().appendChild(d)},_appendPrevButton:function(u){var d;u.currentPageIndex>1?d=this._buttons.prev:d=this._buttons.disabledPrev,this._getContainerElement().appendChild(d)},_appendNextButton:function(u){var d;u.currentPageIndex<u.lastPageListIndex?d=this._buttons.next:d=this._buttons.disabledNext,this._getContainerElement().appendChild(d)},_appendLastButton:function(u){var d;u.page<u.lastPage?d=this._buttons.last:d=this._buttons.disabledLast,this._getContainerElement().appendChild(d)},_appendPrevMoreButton:function(u){var d;u.prevMore&&(d=this._buttons.prevMore,c(d,this._firstItemClassName),this._getContainerElement().appendChild(d))},_appendNextMoreButton:function(u){var d;u.nextMore&&(d=this._buttons.nextMore,c(d,this._lastItemClassName),this._getContainerElement().appendChild(d))},_appendPages:function(u){var d=u.leftPageNumber,S=u.rightPageNumber,N,O;for(O=d;O<=S;O+=1)O===u.page?N=t.createElementByTemplate(this._template.currentPage,{page:O}):(N=t.createElementByTemplate(this._template.page,{page:O}),this._enabledPageElements.push(N)),O===d&&!u.prevMore&&c(N,this._firstItemClassName),O===S&&!u.nextMore&&c(N,this._lastItemClassName),this._getContainerElement().appendChild(N)},_attachClickEvent:function(u){var d=this._getContainerElement();p(d,"click",function(S){var N=f(S),O,w;a(S),w=this._getButtonType(N),w||(O=this._getPageNumber(N)),u(w,O)},this)},_getButtonType:function(u){var d,S=this._buttons;return s(S,function(N,O){return t.isContained(u,N)?(d=O,!1):!0},this),d},_getPageNumber:function(u){var d=this._findPageElement(u),S;return d&&(S=parseInt(d.innerText,10)),S},_findPageElement:function(u){for(var d=0,S=this._enabledPageElements.length,N;d<S;d+=1)if(N=this._enabledPageElements[d],t.isContained(u,N))return N;return null},_empty:function(){this._enabledPageElements=[],s(this._buttons,function(u,d){this._buttons[d]=u.cloneNode(!0)},this),this._getContainerElement().innerHTML=""},update:function(u){this._empty(),this._appendFirstButton(u),this._appendPrevButton(u),this._appendPrevMoreButton(u),this._appendPages(u),this._appendNextMoreButton(u),this._appendNextButton(u),this._appendLastButton(u)}});l.exports=L},function(l,x,e){function s(i){return i.target||i.srcElement}l.exports=s},function(l,x,e){var s=e(4),i=e(3),f=e(23);function p(h,_,r,t){if(s(_)){i(_.split(/\s+/g),function(n){a(h,n,r,t)});return}i(_,function(n,o){a(h,o,n,r)})}function a(h,_,r,t){function n(o){r.call(t||h,o||window.event)}"addEventListener"in h?h.addEventListener(_,n):"attachEvent"in h&&h.attachEvent("on"+_,n),c(h,_,r,n)}function c(h,_,r,t){var n=f(h,_),o=!1;i(n,function(g){return g.handler===r?(o=!0,!1):!0}),o||n.push({handler:r,wrappedHandler:t})}l.exports=p},function(l,x,e){var s="_feEventKey";function i(f,p){var a=f[s],c;return a||(a=f[s]={}),c=a[p],c||(c=a[p]=[]),c}l.exports=i},function(l,x,e){function s(i){if(i.preventDefault){i.preventDefault();return}i.returnValue=!1}l.exports=s},function(l,x,e){var s=e(3),i=e(8),f=e(26),p=e(27);function a(c){var h=Array.prototype.slice.call(arguments,1),_=c.classList,r=[],t;if(_){s(h,function(n){c.classList.add(n)});return}t=f(c),t&&(h=[].concat(t.split(/\s+/),h)),s(h,function(n){i(n,r)<0&&r.push(n)}),p(c,r)}l.exports=a},function(l,x,e){var s=e(1);function i(f){return!f||!f.className?"":s(f.className.baseVal)?f.className:f.className.baseVal}l.exports=i},function(l,x,e){var s=e(2),i=e(1);function f(p,a){if(a=s(a)?a.join(" "):a,a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(p.className.baseVal)){p.className=a;return}p.className.baseVal=a}l.exports=f},function(l,x,e){function s(i){return typeof HTMLElement=="object"?i&&(i instanceof HTMLElement||!!i.nodeType):!!(i&&i.nodeType)}l.exports=s},function(l,x,e){var s=e(8),i=e(3),f=e(2),p=e(4),a=e(0),c=/{{\s?|\s?}}/g,h=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,_=/\[\s?|\s?\]/,r=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,t=/\./,n=/^["']\w+["']$/,o=/"|'/g,g=/^-?\d+\.?\d*$/,b=2,L={if:O,each:w,with:et},u="a".split(/a/).length===3,d=function(){return u?function(v,y){return v.split(y)}:function(v,y){var E=[],P=0,C,I;for(y.global||(y=new RegExp(y,"g")),C=y.exec(v);C!==null;)I=C.index,E.push(v.slice(P,I)),P=I+C[0].length,C=y.exec(v);return E.push(v.slice(P)),E}}();function S(v,y){var E,P=y[v];return v==="true"?P=!0:v==="false"?P=!1:n.test(v)?P=v.replace(o,""):h.test(v)?(E=v.split(_),P=S(E[0],y)[S(E[1],y)]):r.test(v)?(E=v.split(t),P=S(E[0],y)[E[1]]):g.test(v)&&(P=parseFloat(v)),P}function N(v,y){var E=[v],P=[],C=0,I=0;return i(y,function(M,T){M.indexOf("if")===0?C+=1:M==="/if"?C-=1:!C&&(M.indexOf("elseif")===0||M==="else")&&(E.push(M==="else"?["true"]:M.split(" ").slice(1)),P.push(y.slice(I,T)),I=T+1)}),P.push(y.slice(I)),{exps:E,sourcesInsideIf:P}}function O(v,y,E){var P=N(v,y),C=!1,I="";return i(P.exps,function(M,T){return C=U(M,E),C&&(I=V(P.sourcesInsideIf[T],E)),!C}),I}function w(v,y,E){var P=U(v,E),C=f(P)?"@index":"@key",I={},M="";return i(P,function(T,H){I[C]=H,I["@this"]=T,a(E,I),M+=V(y.slice(),E)}),M}function et(v,y,E){var P=s("as",v),C=v[P+1],I=U(v.slice(0,P),E),M={};return M[C]=I,V(y,a(E,M))||""}function nt(v,y,E){var P=v.splice(y+1,E-y);return P.pop(),P}function it(v,y,E){for(var P=L[v],C=1,I=0,M,T=I+b,H=y[T];C&&p(H);)H.indexOf(v)===0?C+=1:H.indexOf("/"+v)===0&&(C-=1,M=T),T+=b,H=y[T];if(C)throw Error(v+" needs {{/"+v+"}} expression.");return y[I]=P(y[I].split(" ").slice(1),nt(y,I,M),E),y}function U(v,y){var E=S(v[0],y);return E instanceof Function?st(E,v.slice(1),y):E}function st(v,y,E){var P=[];return i(y,function(C){P.push(S(C,E))}),v.apply(null,P)}function V(v,y){for(var E=1,P=v[E],C,I,M;p(P);)C=P.split(" "),I=C[0],L[I]?(M=it(I,v.splice(E,v.length-E),y),v=v.concat(M)):v[E]=U(C,y),E+=b,P=v[E];return v.join("")}function rt(v,y){return V(d(v,c),y)}l.exports=rt},function(l,x,e){var s=e(1),i=e(31),f=7*24*60*60*1e3;function p(c){var h=new Date().getTime();return h-c>f}function a(c,h){var _="https://www.google-analytics.com/collect",r=location.hostname,t="event",n="use",o="TOAST UI "+c+" for "+r+": Statistics",g=window.localStorage.getItem(o);!s(window.tui)&&window.tui.usageStatistics===!1||g&&!p(g)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&i(_,{v:1,t,tid:h,cid:r,dp:r,dh:c,el:c,ec:n})},1e3))}l.exports=a},function(l,x,e){var s=e(6);function i(f,p){var a=document.createElement("img"),c="";return s(p,function(h,_){c+="&"+_+"="+h}),c=c.substring(1),a.src=f+"?"+c,a.style.display="none",document.body.appendChild(a),document.body.removeChild(a),a}l.exports=i}])})})(q);var yt=q.exports;const Et=at(yt);document.addEventListener("click",Pt);function Pt(m){if(document.querySelectorAll(".form-input").forEach(l=>l.classList.remove("invalid")),m.target.closest(".modal-close-btn")&&(G.close(),X.close()),m.target.closest("[data-sign-up]")&&(G.show(),X.close()),m.target.closest("[data-sign-in]")&&(G.close(),X.show()),m.target.closest(".log-out-btn")&&ot(),m.target.closest(".sign-in-btn")&&lt(),m.target.closest("[data-g-sign-in]")&&ut(),m.target.closest(".sign-up-btn")&&ct(),m.target.closest(".shopping-card-bin-link")){const l=m.target.closest(".shopping-list-item").dataset.id;ft(l)}}const bt=pt();let A=JSON.parse(localStorage.getItem("KEY"))??[];gt(bt,m=>{m?(m.uid,Mt(m),It(m).then(()=>{})):(_t(),St())});function _t(){document.querySelector(".sing-wrap").style.display="",document.querySelector(".log-out-wrap").style.display="none"}async function Ct(m){const B=`https://books-backend.p.goit.global/books/${m}`,l=await fetch(B);return l.ok||console.log("Error API book"),await l.json()}async function It(m){ht(m.uid).then(B=>{A=A.filter(l=>B.includes(l._id)),localStorage.setItem("KEY",JSON.stringify(A)),z(A),B.forEach(l=>{A.find(({_id:e})=>e==l)||Ct(l).then(e=>{A.push(e),localStorage.setItem("KEY",JSON.stringify(A)),z(A)}).catch(e=>console.log(e.message))})}).catch(B=>{console.dir(B)})}location.pathname.split("/");function St(){document.querySelector(".shop-page").style.display="none";let m=location.pathname.split("/");console.log(m),m[m.length-1]==="shopping-list.html"&&(m[m.length-1]="index.html",console.log(m),location.href=m.join("/"))}function Mt(m){const B=document.querySelector(".user-text");B.textContent=m.displayName,document.querySelector(".user-image img").src=m.photoURL??"/img/noimage.png",document.querySelector(".user-image img").alt=m.displayName,document.querySelector(".log-out-wrap").style.display="",document.querySelector(".sing-wrap").style.display="none"}const Bt="/team-13-we-can-do-it-JS/assets/spryte-821f2fad.svg#icon-trash",D=document.querySelector(".shopping-list"),Y=document.querySelector(".shopping-title"),Z=document.querySelector(".empty-shopping-list-wrap"),J=document.querySelector("#tui-pagination-container"),W=document.querySelector(".support-ukr-shopping-list");document.querySelector(".loader");let R=JSON.parse(localStorage.getItem("KEY"))??[],F=3,j=1,k=(j-1)*F,$=k+F,Q=R.slice(k,$),K=document.querySelector(".visible"),Lt=tt();function tt(){return window.matchMedia("(min-width: 768px)").matches?K.textContent="3":K.textContent="2",Number(K.textContent)}const Nt={totalItems:R.length,itemsPerPage:F,visiblePages:Lt,page:j,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child"},Ot=new Et(J,Nt);tt();function z(m){D.innerHTML="",m=R.slice(k,$),R.length?(Z.style.display="none",J.style.display="block",W.style.marginBottom="337px",Y.classList.replace("empty-title-margin","full-title-margin"),D.insertAdjacentHTML("beforeend",Tt(m))):(Z.style.display="block",J.style.display="none",W.style.marginBottom="184px",Y.classList.replace("full-title-margin","empty-title-margin"))}Ot.on("beforeMove",m=>{j=m.page,k=(j-1)*F,$=k+F;const B=R.slice(k,$);z(B)});function Tt(m){return m.map(({_id:B,book_image:l,title:x,list_name:e,author:s,description:i,buy_links:[f,p,a]})=>`
  <li class="shopping-list-item" data-id=${B} >
  <img
    src="${l}"
    alt="book's image"
    class="shopping-card-img"
  />
  <div class="right-part-wrap">
    <div class="shopping-card-bin-wrap">
     <div>
        <h4 class="shopping-card-tittle">${x}</h4>
        <p class="shopping-card-genre">${e}</p>
     </div>
     <button type="button" class="shopping-card-bin-link">
          <svg class="img-bin-icon">
            <use class="img-bin-use" href="${Bt}"></use>
          </svg>
      </button>
    </div>
    <p class="shopping-card-description">${i}
    </p>
    <div class="botton-wrap">
        <p class="shopping-card-author">${s}</p>
              <ul class="markets-list-shopping">
              <li>
                <a href="${f.url}">
                  <img src="${dt} alt="${e}" class="icon-amazon light-theme-amazon">
                  <img src="${vt}" alt="${e}" class="icon-amazon dark-theme-amazon">

                </a>
              </li>
              <li>
                <a href="${p.url}">
                  <img src="${mt}" alt="${e}" class="icon-apple-book">
                </a>
              </li>
              <li>
                <a href="${a.url}">
                <img src="${xt}" alt="${e}" class="icon-book-shop">
                </a>
    </div>
  </div>
</li>`).join("")}D.addEventListener("click",m=>{(m.target.classList.contains("shopping-card-bin-link")||m.target.classList.contains("img-bin-icon")||m.target.classList.contains("img-bin-use"))&&At(m)});function At(m){let B=JSON.parse(localStorage.getItem("KEY"))??[];const{id:l}=m.target.closest(".shopping-list-item").dataset,x=B.findIndex(e=>e._id===l);B.splice(x,1),localStorage.setItem("KEY",JSON.stringify(B)),Q=B.slice(k,$),z(Q)}
